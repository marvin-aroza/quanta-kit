:host {
  display: block;
  width: 100%;
  position: sticky;
  top: 0;
  z-index: 950;
}

.quanta-top-app-bar {
  display: flex;
  align-items: center;
  padding: 0 16px;
  background-color: var(--md-sys-color-surface, #fdfbff);
  color: var(--md-sys-color-on-surface, #1d1b20);
  transition:
    background-color 0.2s,
    height 0.2s;
  box-sizing: border-box;

  // Default / Small variant: Single row, 64px height
  height: 64px;
  gap: 24px; // Spacing after leading icon

  // Center Aligned variant
  &.quanta-top-app-bar-center-aligned {
    justify-content: space-between;
    .quanta-top-app-bar-headline {
      text-align: center;
      flex: 1;
    }
  }

  // Medium variant
  &.quanta-top-app-bar-medium {
    height: 112px;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    padding-bottom: 24px;

    .quanta-top-app-bar-content-row {
      position: relative;
      height: 64px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px; // Internal padding if needed or inherit? Parent has 0 16px.
      // Actually parent has padding 0 16px. So this child will have 16px on left/right.
      // If we want it to span full width we need negative margin or remove parent padding.
      // But simpler: remove parent padding for these variants or let it be.
      // If parent has padding, children respect it.
      // content-row will be width 100% of content box.
      // So no extra padding needed on content-row if we want icons aligned with edge.
      // Wait, M3 icons are usually 16px from edge. Parent padding handles this.
      // So Remove padding from content-row.
    }

    .quanta-top-app-bar-headline {
      padding-left: 0;
      flex: 1;
      display: flex;
      align-items: flex-end;
      font-family: var(--md-sys-typescale-headline-small-font);
      font-size: var(--md-sys-typescale-headline-small-size, 24px);
      line-height: var(--md-sys-typescale-headline-small-line-height, 32px);
    }
  }

  // Large variant
  &.quanta-top-app-bar-large {
    height: 152px;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    padding-bottom: 28px;

    .quanta-top-app-bar-content-row {
      position: relative;
      height: 64px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .quanta-top-app-bar-headline {
      padding-left: 0;
      flex: 1;
      display: flex;
      align-items: flex-end;
      font-family: var(--md-sys-typescale-headline-medium-font);
      font-size: var(--md-sys-typescale-headline-medium-size, 28px);
      line-height: var(--md-sys-typescale-headline-medium-line-height, 36px);
    }
  }

  &.quanta-top-app-bar-scrolled {
    background-color: var(--md-sys-color-surface-container, #f3f3f6);
  }
}

.quanta-top-app-bar-leading {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--md-sys-color-on-surface, #1d1b20);
}

.quanta-top-app-bar-headline {
  flex: 1;
  font-family: var(--md-sys-typescale-title-large-font);
  font-size: var(--md-sys-typescale-title-large-size, 22px);
  line-height: var(--md-sys-typescale-title-large-line-height, 28px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.quanta-top-app-bar-actions {
  display: flex;
  align-items: center;
  gap: 24px;
}
